<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="generator"
  content="HTML Tidy for Linux/x86 (vers 1st April 2003), see www.w3.org" />

  <title>Remote Debugging</title>
</head>

<body>
  <h3>Remote Debugging</h3>

  <p>Remote debugging is the act of debugging a remote application. The
  term remote generally means the application being debugged is on a
  separate machine, connected via a network. While this is true, it is
  also true that the debuggee can reside on the same machine as the
  debugger. As far as the debugger is concerned, it is still remote
  debugging whether the application is physically near or far.</p>

  <p>Remote debugging can be advantageous over launched debugging for a
  number of reasons. The debuggee may require a particular environment
  that is hard to replicate on the debugging machine. In cases
  involving large applications with long startup times, remote
  debugging will avoid the typical slowness caused by an attached
  debugger. Whatever reason you choose, this page provides instruction
  on remote debugging.</p>

  <h4>Attaching to a Running Program</h4>

  <p>To debug a program that is already running, you must have started
  that program using the following command line:</p>

  <p><kbd>java -Xdebug -Djava.compiler=NONE
  -Xrunjdwp:transport=dt_socket,server=y,suspend=n
  &lt;class&gt;</kbd></p>

  <p>This will start the JPDA debugger back-end and run the given
  class. The socket transport will be used and the back-end will act as
  the server. This allows JSwat to connect to the debugger back-end by
  using the <code>attach</code> command (or the like-named menu item in
  the &quot;VM&quot; menu). The debugger back-end will print a
  four-digit number in the command shell where you invoked
  <code>java</code>. This is the socket port number that JSwat must
  connect to.</p>

  <p>Once you have started JSwat and the debuggee program is running,
  you can type &quot;<code>attach &lt;port&gt;</code>&quot; to attach
  to the debugger back-end through the given port number. JSwat should
  display &quot;VM attached&quot; when successful.</p>

  <p>Typically socket-based debugging means that each time the debugger
  is detached, the debuggee will listen on a new port. To avoid this,
  add &quot;<code>address=1234</code>&quot; to the list of arguments to
  the <code>-Xrunjdwp</code> option. The value is a port number between
  1 and 65535. Usually port numbers below 1024 are for privileged use
  only. Be sure to choose a port number that is not being used by any
  other socket-based application.</p>

  <h4>Shared Memory Connector</h4>

  <p>JSwat supports the shared memory connector, when the system allows
  it. This is generally only true for Windows systems. To use the
  shared memory connector, start the debuggee using the command line
  shown above, but replace the <code>dt_socket</code> with
  <code>dt_shmem</code>. A shared memory name will be displayed in the
  debuggee&#39;s console. Use that as the argument to the
  <code>attach</code> command.</p>

  <h4>Detaching from a Running Program</h4>

  <p>To end the remote debugging session, invoke the <code>close</code>
  command. This will close the connection with the debuggee VM and
  leave it running. If you invoke the <code>kill</code> command
  instead, this will terminate the debuggee VM. Alternately, the
  &quot;VM&quot; menu has two items that perform the same operations:
  &quot;Detach from debuggee&quot; and &quot;Terminate VM&quot;.</p>

  <h4>Listening for a Connection</h4>

  <p>In addition to connecting to an already running remote VM, JSwat
  can listen for connections from new VMs. This is done using the
  <code>listen</code> command. It takes an optional port number to
  listen to, or uses a default as generated by the JPDA. While JSwat is
  listening for a remote VM to connect, you may launch the remote
  debuggee using something like the following:</p>

  <p><kbd>% java -Xdebug -Djava.compiler=NONE \
  -Xrunjdwp:transport=dt_socket,address=&lt;port&gt;
  &lt;class&gt;</kbd></p>

  <p>For the <code>&lt;port&gt;</code> value, substitute the value
  returned from the <code>listen</code> command. Enter the name of the
  class you want to debug in place of the <code>&lt;class&gt;</code>
  argument. Once the remote VM starts up, JSwat will activate a new
  debugging session and will be ready for your input.</p>

  <h4>Stability</h4>

  <p>Remote debugging through the shared memory transport seems to be
  less stable than the socket transport. JSwat will hang upon
  disconnect from the debuggee when using the shared memory transport.
  The socket transport does not have this problem. This is true not
  only for JSwat, but for other JPDA-based debuggers as well.</p>

  <p>When JSwat and/or the debuggee appear to freeze and become
  unresponsive, the solution is simple: kill the debuggee process. On
  Unix, this means <code>kill -9</code>, while on Windows it will be
  necessary to &quot;End Process&quot; the <code>java.exe</code>
  running the debuggee. Once the debuggee process is terminated, JSwat
  will return and indicate that the debuggee has disconnected.</p>

  <h4>For More Information</h4>

  <p>Check out the thorough documentation available for the JPDA
  library. These docs come with the JDK documentation for JDK 1.3 and
  above. Be sure to read up on the JPDA connectors to learn all the
  options when remotely debugging.</p>
</body>
</html>
